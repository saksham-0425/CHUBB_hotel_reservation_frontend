<div class="manager-dashboard">

  <div class="page-header">
    <h2>Manager Dashboard</h2>
    <p class="subtitle">Overview of your hotel performance</p>
  </div>

  <p *ngIf="loading" class="loading-text">
    Loading dashboard...
  </p>

  <div *ngIf="!loading">

    <!-- AVG REVENUE -->
    <div class="grid one-col">
      <div class="card stat-card">
        <h4>Avg Revenue per Booking</h4>
        <p class="hint">Completed bookings</p>
        <h1>â‚¹ {{ avgRevenue | number }}</h1>
      </div>
    </div>

    <!-- INSIGHTS -->
    <h3 class="section-title">Insights</h3>

    <div class="grid two-col">

      <!-- BOOKING STATUS DONUT -->
      <div class="card chart-card">
        <ng-container *ngIf="bookingStatusChart; else noStatusData">
          <apx-chart
            [series]="bookingStatusChart.series"
            [chart]="bookingStatusChart.chart"
            [labels]="bookingStatusChart.labels"
            [title]="bookingStatusChart.title">
          </apx-chart>
        </ng-container>

        <ng-template #noStatusData>
          <p class="empty-text">No booking status data available</p>
        </ng-template>
      </div>

      <!-- MONTHLY BOOKINGS LINE -->
      <div class="card chart-card">
        <ng-container *ngIf="monthlyBookingsChart; else noMonthlyData">
          <apx-chart
            [series]="monthlyBookingsChart.series"
            [chart]="monthlyBookingsChart.chart"
            [xaxis]="monthlyBookingsChart.xaxis"
            [title]="monthlyBookingsChart.title">
          </apx-chart>
        </ng-container>

        <ng-template #noMonthlyData>
          <p class="empty-text">No bookings recorded this year</p>
        </ng-template>
      </div>

    </div>

    <!-- MANAGEMENT -->
    <h3 class="section-title">Management</h3>

    <div class="grid two-col">
      <div class="dashboard-card">
        <h3>Bookings</h3>
        <p>View, confirm and manage bookings</p>
        <button (click)="goToBookings()">View Bookings</button>
      </div>

      <div class="dashboard-card">
        <h3>Room Categories</h3>
        <p>Update pricing and room inventory</p>
        <button (click)="goToCategories()">Manage Categories</button>
      </div>

      <div class="dashboard-card">
        <h3>Rooms</h3>
        <p>Monitor room availability & status</p>
        <button (click)="goToRooms()">View Rooms</button>
      </div>

      <div class="dashboard-card">
        <h3>Receptionists</h3>
        <p>Add and assign reception staff</p>
        <button (click)="goToReceptionists()">Manage Receptionists</button>
      </div>
    </div>

  </div>
</div>
