<div class="booking-details-page">
  <p *ngIf="loading" class="loading-text">
    Loading booking details...
  </p>
  <p *ngIf="!loading && errorMessage" class="error-text">
    {{ errorMessage }}
  </p>
  <div *ngIf="!loading && booking" class="details-card">
    <div class="header">
      <h2>Booking Details</h2>
      <span
        class="status-badge"
        [ngClass]="booking.status.toLowerCase()"
      >
        {{ booking.status }}
      </span>
    </div>
    <p class="reference">
      Reference: <strong>{{ booking.bookingReference }}</strong>
    </p>
    <p class="status-message" *ngIf="booking.status === 'BOOKED'">
      Awaiting confirmation from hotel manager.
    </p>
    <p class="status-message confirmed" *ngIf="booking.status === 'CONFIRMED'">
      Your booking is confirmed. Please arrive on time.
    </p>
    <p class="status-message cancelled" *ngIf="booking.status === 'CANCELLED'">
      This booking has been cancelled.
    </p>
    <hr />
    <div class="info-grid">
      <div>
        <label>Guest Name</label>
        <p>{{ booking.guestName }}</p>
      </div>
      <div>
        <label>Guests</label>
        <p>{{ booking.numberOfGuests }}</p>
      </div>
      <div>
        <label>Rooms</label>
        <p>{{ booking.numberOfRooms }}</p>
      </div>
    </div>

    <hr />
    <div class="info-grid">
      <div>
        <label>Check-in</label>
        <p>{{ booking.checkInDate }}</p>
      </div>
      <div>
        <label>Check-out</label>
        <p>{{ booking.checkOutDate }}</p>
      </div>
    </div>
    <hr />
    <div class="price-row">
      <span>Total Amount</span>
      <strong>â‚¹{{ booking.totalAmount }}</strong>
    </div>
    <button
      class="btn-primary"
      *ngIf="booking.status === 'CONFIRMED' && !paymentDone"
      (click)="payBooking()"
    >
      Pay Now
    </button>
    <p *ngIf="paymentDone" class="success-text">
      Payment completed successfully.
    </p>
  </div>
</div>
